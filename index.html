<!DOCTYPE html>
<html lang="ar" dir="rtl" data-bs-theme="dark">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css"
    />
    <!-- SweetAlert2 CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css"
    />
    <!-- Custom CSS -->
    <style>
      .w-45 {
        width: 45% !important;
      }
    </style>

    <!-- Microsoft Clarity analytics script -->
    <script type="text/javascript">
      (function (c, l, a, r, i, t, y) {
        c[a] =
          c[a] ||
          function () {
            (c[a].q = c[a].q || []).push(arguments);
          };
        t = l.createElement(r);
        t.async = 1;
        t.src = "https://www.clarity.ms/tag/" + i;
        y = l.getElementsByTagName(r)[0];
        y.parentNode.insertBefore(t, y);
      })(window, document, "clarity", "script", "qa6jmlgjcf");
    </script>

    <title>Ù…ØµØ§Ø¯Ø± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ Ø§Ù„Ø«Ø§Ù†ÙŠ Ø«Ø§Ù†ÙˆÙŠ Ø§Ù„ÙØµÙ„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ Ø§Ù„Ø«Ø§Ù„Ø« 1446Ù‡Ù€</title>
  </head>
  <body>
    <!-- Container -->
    <div class="container mt-5">
      <!-- Card -->
      <div class="card text-center">
        <div class="card-header">
          Ù…ØµØ§Ø¯Ø± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ Ø§Ù„Ø«Ø§Ù†ÙŠ Ø«Ø§Ù†ÙˆÙŠ Ø§Ù„ÙØµÙ„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ Ø§Ù„Ø«Ø§Ù„Ø« 1446Ù‡Ù€ (Ø¹Ù…ÙˆØ±ÙŠØ©
          Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ© - Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù…Ù† ØªØ¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø§Ø¨ Ù„Ø§ Ø¹Ù„Ø§Ù‚Ø© Ù„Ù„Ù…Ø¹Ù„Ù…ÙŠÙ† Ø¨Ù‡)
        </div>
        <div class="card-body">
          <h5 class="card-title mb-3">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø§Ø¯Ø©</h5>
          <select class="form-select" id="subject" onchange="update()">
            <option value="0" selected disabled></option>
            <option value="table">Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª (Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø¹Ø§Ù…)</option>
            <option value="tech">Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©</option>
            <option value="math">Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª</option>
            <option value="chemistry">Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡</option>
            <option value="english">Ø§Ù„Ø§Ù†Ø¬Ù„ÙŠØ²ÙŠ</option>
            <option value="biology">Ø§Ù„Ø£Ø­ÙŠØ§Ø¡</option>
            <option value="physics">Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡</option>
          </select>

          <div class="my-3"></div>

          <p class="text-warning">
            Ù‚Ø¯ ØªÙˆØ§Ø¬Ù‡ Ø¨Ø·Ø¦ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø£Ùˆ Ø§Ù„Ù…Ù„ÙØ§ØªØŒ Ù†Ø¹ØªØ°Ø± Ù…Ù†ÙƒÙ… Ø§Ù„Ø£Ù…Ø± Ø®Ø§Ø±Ø¬ Ø¹Ù† Ø§Ù„Ù…Ù‚Ø¯Ø±Ø©ØŒ Ù‡Ø°Ù‡ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø³Ø¨Ø¨Ù‡Ø§ Ù…Ø­Ø¯ÙˆØ¯ÙŠØ© Ù…ÙŠØ²Ø§Ù†ÙŠØ© ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…ÙˆÙ‚Ø¹.
          </p>
          <p class="text-danger mb-0">
            ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø¹Ù„Ù… Ø£Ù† Ø£ØºÙ„Ø¨ Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ† Ù„Ù… ÙŠÙƒÙ…Ù„ÙˆØ§ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø§Ù„Ø®Ø§ØµØ© Ø¨Ù‡Ù…
            Ù„Ø°Ù„Ùƒ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…Ø­Ø¯ÙˆØ¯Ø© ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠ.
          </p>
        </div>
        <div class="card-footer text-body-secondary">
          <p class="mb-0"></p>
        </div>
      </div>
    </div>

    <!-- Abstract Downloder Modal -->
    <div
      class="modal fade"
      id="abstractDownloderModal"
      tabindex="-1"
      aria-labelledby="abstractDownloderModalLabel"
      style="display: none"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-m">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="abstractDownloderModalLabel">
              ØªÙ†Ø²ÙŠÙ„ Ø§Ù„Ù…Ø³Ø±Ø¯
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <p class="text-muted mb-4">
              Ø§Ø®ØªØ± Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª Ø§Ù„ØªÙŠ ØªØ±ÙŠØ¯ ØªØ¶Ù…ÙŠÙ†Ù‡Ø§ ÙÙŠ Ø§Ù„Ù…Ø³Ø±Ø¯:
            </p>

            <div class="row g-3">
              <div class="col-6">
                <div class="d-grid">
                  <input
                    type="checkbox"
                    class="btn-check"
                    id="summaryCheckbox"
                    autocomplete="off"
                  />
                  <label class="btn btn-outline-light" for="summaryCheckbox">
                    <i class="bi bi-file-text me-2"></i>
                    Ø³Ø±Ø¯ ÙˆØªÙ„Ø®ÙŠØµ Ø§Ù„Ù…Ø§Ø¯Ø©
                  </label>
                </div>
              </div>

              <div class="col-6">
                <div class="d-grid gap-2">
                  <input
                    type="checkbox"
                    class="btn-check"
                    id="questionsCheckbox"
                    autocomplete="off"
                  />
                  <label class="btn btn-outline-light" for="questionsCheckbox">
                    <i class="bi bi-question-circle me-2"></i>
                    Ø§Ù„ØªØ¬Ù…ÙŠØ¹Ø§Øª
                  </label>

                  <div id="answersSection" style="display: none">
                    <input
                      type="checkbox"
                      class="btn-check"
                      id="answersCheckbox"
                      autocomplete="off"
                    />
                    <label
                      class="btn btn-outline-success w-100"
                      for="answersCheckbox"
                    >
                      <i class="bi bi-check-circle me-2"></i>
                      ØªØ¶Ù…ÙŠÙ† Ø§Ù„Ø­Ù„ÙˆÙ„
                    </label>
                  </div>
                </div>
              </div>
            </div>

            <div class="alert alert-danger mt-4" id="warningAlert">
              <strong>ØªÙ†Ø¨ÙŠÙ‡:</strong> ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ù‚Ø¨Ù„ Ø§Ù„ØªØ­Ù…ÙŠÙ„.
              <br />
            </div>

            <div class="d-flex justify-content-end mt-4">
              <button class="btn btn-secondary me-2" data-bs-dismiss="modal">
                Ø¥Ù„ØºØ§Ø¡
              </button>
              <button class="btn btn-primary" onclick="downloadSummary()">
                ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³Ø±Ø¯
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Quiz Modal -->
    <div
      class="modal fade"
      id="quizModal"
      tabindex="-1"
      aria-labelledby="quizModalLabel"
      aria-hidden="true"
      data-bs-backdrop="static"
      data-bs-keyboard="false"
    >
      <div class="modal-dialog modal-xl">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="quizModalLabel">Ø§Ø®ØªØ¨Ø§Ø±</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <!-- Quiz Configuration -->
            <div id="quiz-config">
              <h5 class="mb-3">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</h5>
              <div class="border p-3 rounded">
                <div class="mb-3">
                  <label class="form-label"
                    >Ø§Ø®ØªØ± Ø§Ù„Ù…ÙˆØ§Ø¶ÙŠØ¹ Ø§Ù„ØªÙŠ ØªØ±ÙŠØ¯ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø¨Ù‡Ø§:</label
                  >
                  <div class="d-flex gap-2 mb-2">
                    <input
                      type="radio"
                      class="btn-check"
                      name="topic-mode"
                      id="topic-all"
                      autocomplete="off"
                      checked
                    />
                    <label class="btn btn-outline-primary" for="topic-all"
                      >Ø§Ù„ÙƒÙ„</label
                    >
                    <input
                      type="radio"
                      class="btn-check"
                      name="topic-mode"
                      id="topic-custom"
                      autocomplete="off"
                    />
                    <label class="btn btn-outline-primary" for="topic-custom"
                      >Ù…Ø®ØµØµ</label
                    >
                  </div>
                </div>
                <div
                  class="mb-3"
                  id="topic-checkboxes-container"
                  style="display: none"
                >
                  <label class="form-label">Ø®ØµØµ Ø§Ù„Ù…ÙˆØ§Ø¶ÙŠØ¹:</label>
                  <div
                    id="topic-select-container"
                    class="d-flex flex-wrap gap-2"
                  ></div>
                </div>
                <div class="mb-3">
                  <label class="form-label">Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©:</label>
                  <div
                    id="num-questions-group"
                    class="d-flex flex-wrap gap-2 mb-2"
                  >
                    <!-- Ø³ÙŠØªÙ… ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ù‡Ù†Ø§ -->
                  </div>
                  <input
                    type="number"
                    class="form-control"
                    id="num-questions"
                    min="1"
                    style="display: none; width: 50%; direction: rtl"
                    placeholder="Ø¹Ø¯Ø¯ Ù…Ø®ØµØµ"
                  />
                </div>
              </div>
            </div>

            <!-- Quiz Section -->
            <div id="quiz-section" style="display: none">
              <div id="quiz-progress" class="mb-3 text-center"></div>
              <div id="question-container">
                <img
                  id="question-image"
                  src=""
                  alt="Question"
                  class="img-fluid"
                  width="100%"
                />
              </div>
              <div
                id="answer-buttons"
                class="mt-3 d-flex flex-wrap gap-2 w-100 justify-content-center"
              >
                <button
                  class="btn btn-outline-light answer-btn w-45"
                  data-answer="A"
                  id="A"
                >
                  A
                </button>
                <button
                  class="btn btn-outline-light answer-btn w-45"
                  data-answer="B"
                  id="B"
                >
                  B
                </button>
                <button
                  class="btn btn-outline-light answer-btn w-45"
                  data-answer="C"
                  id="C"
                >
                  C
                </button>
                <button
                  class="btn btn-outline-light answer-btn w-45"
                  data-answer="D"
                  id="D"
                >
                  D
                </button>
              </div>
              <div id="feedback" class="mt-3 text-center"></div>
            </div>

            <!-- Result Section -->
            <div id="result-section" style="display: none" class="text-center">
              <h5 class="mb-4">Ø§Ù„Ù†ØªÙŠØ¬Ø©</h5>
              <h6 id="score"></h6>
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Ø¥ØºÙ„Ø§Ù‚
            </button>
            <button
              id="next-button"
              class="btn btn-primary"
              style="display: none"
            >
              Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ
            </button>
            <button id="start-quiz-button" class="btn btn-primary">
              Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Words Modal-->
    <div
      class="modal fade"
      id="wordModal"
      tabindex="-1"
      aria-labelledby="wordModalLabel"
      style="display: none"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-xl">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="wordModalLabel">Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙƒÙ„Ù…Ø§Øª</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <table class="table table-striped text-center" dir="ltr">
              <thead class="table-dark">
                <tr>
                  <th>Ø§Ù„ÙƒÙ„Ù…Ø©</th>
                  <th>Ø§Ù„Ù…Ø¹Ù†Ù‰</th>
                </tr>
              </thead>
              <tbody id="wordsTableBody"></tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- Words Quiz Modal -->
    <div
      class="modal fade"
      id="wordsQuizModal"
      data-bs-backdrop="static"
      tabindex="-1"
      aria-labelledby="wordsQuizModalLabel"
      style="display: none"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="wordsQuizModalLabel">Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ÙƒÙ„Ù…Ø§Øª</h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <div id="quizContainer">
              <div class="d-flex justify-content-between mb-4">
                <div>
                  <span>Ø§Ù„ÙƒÙ„Ù…Ø©: </span>
                  <span id="questionCounter" class="badge bg-primary">1</span>
                  <span> Ù…Ù† </span>
                  <span id="totalQuestions" class="badge bg-secondary">0</span>
                </div>
              </div>

              <div class="card mb-4">
                <div class="card-body text-center">
                  <h3 id="currentWord" class="mb-3">Ø¬Ø§Ø± Ø§Ù„ØªØ­Ù…ÙŠÙ„...</h3>
                  <button class="btn btn-sm mb-3" onclick="speakCurrentWord()">
                    ğŸ”Š
                  </button>
                  <div id="options" class="d-grid gap-2"></div>
                </div>
              </div>
            </div>

            <div id="resultsContainer" style="display: none">
              <div class="card">
                <div class="card-body text-center">
                  <h4 class="mb-4">Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</h4>
                  <div class="results-summary">
                    <p class="mb-2">
                      <span class="fw-bold">Ø¹Ø¯Ø¯ Ø§Ù„ÙƒÙ„Ù…Ø§Øª: </span
                      ><span id="finalTotalQuestions">0</span>
                    </p>
                    <p class="mb-2">
                      <span class="fw-bold">Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„ØµØ­ÙŠØ­Ø©: </span
                      ><span id="finalCorrectAnswers">0</span>
                    </p>
                    <p class="mb-2">
                      <span class="fw-bold">Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„Ø®Ø§Ø·Ø¦Ø©: </span
                      ><span id="finalWrongAnswers">0</span>
                    </p>
                    <p class="mb-2">
                      <span class="fw-bold">Ø§Ù„Ø¯Ø±Ø¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©: </span
                      ><span id="finalScore">0</span>
                    </p>
                  </div>

                  <div class="mt-4">
                    <h5 class="mb-3">Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„ØªÙŠ Ù„Ù… ØªØªÙ…ÙƒÙ† Ù…Ù† Ù…Ø¹Ø±ÙØªÙ‡Ø§:</h5>
                    <ul id="wrongAnswersList" class="list-group"></ul>
                  </div>

                  <div class="mt-4">
                    <button class="btn btn-primary" onclick="restartWordQuiz()">
                      Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
                    </button>
                    <button
                      class="btn btn-secondary"
                      data-bs-dismiss="modal"
                      aria-label="Close"
                    >
                      Ø¥ØºÙ„Ø§Ù‚
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>

  <!-- SweetAlert2 JS -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <!-- Custom JS Script -->
  <script>
    const footerText = [
      `Ù„Ø§ ØªÙ†Ø³ÙˆÙ†Ø§ Ù…Ù† Ø¯Ø¹Ø§Ø¦ÙƒÙ… Ù„Ø¹Ù„ÙƒÙ… Ø£Ù‚Ø±Ø¨ Ø¥Ù„Ù‰ Ø§Ù„Ù„Ù‡ Ù…Ù†Ø²Ù„Ø©`,
      `Ø§Ø­Ø±Øµ Ø¹Ù„Ù‰ Ù…Ø§ ÙŠÙ†ÙØ¹ÙƒØŒ ÙˆØ§Ø³ØªØ¹Ù† Ø¨Ø§Ù„Ù„Ù‡ ÙˆÙ„Ø§ ØªØ¹Ø¬Ø²`,
      `Ø±Ø¨ Ø§Ø´Ø±Ø­ Ù„ÙŠ ØµØ¯Ø±ÙŠ ÙˆÙŠØ³Ø± Ù„ÙŠ Ø£Ù…Ø±ÙŠ ÙˆØ§Ø­Ù„Ù„ Ø¹Ù‚Ø¯Ø© Ù…Ù† Ù„Ø³Ø§Ù†ÙŠ`,
      `(ÙˆÙÙ‚ÙÙ„ Ø±ÙØ¨ÙÙ‘ Ø²ÙØ¯Ù†ÙŠ Ø¹ÙÙ„Ù…Ù‹Ø§)`,
      `(Ø±ÙØ¨ÙÙ‘ Ù‡ÙØ¨Ù’ Ù„ÙÙŠ Ø­ÙÙƒÙ’Ù…Ù‹Ø§ ÙˆÙØ£ÙÙ„Ù’Ø­ÙÙ‚Ù’Ù†ÙÙŠ Ø¨ÙØ§Ù„ØµÙÙ‘Ø§Ù„ÙØ­ÙÙŠÙ†Ù)`,
      `(Ù…Ù† Ø®Ø±Ø¬ ÙÙŠ Ø·Ù„Ø¨ Ø§Ù„Ø¹Ù„Ù…ØŒ ÙƒØ§Ù† ÙÙŠ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù„Ù‡ Ø­ØªÙ‰ ÙŠØ±Ø¬Ø¹)`,
      `Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø­Ù…Ø¯Ù‡ØŒ Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ø¸ÙŠÙ…`,
      `ÙˆÙÙ…Ø§ ÙŠÙØºÙ†ÙŠÙƒÙ ØªÙØ´ÙŠÙÙŠØ¯Ù Ø§Ù„Ù…ÙØ¨Ø§Ù†ÙŠ Ø¥ÙØ°Ø§ Ø¨ÙØ§Ù„Ø¬ÙÙ‡Ù„Ù Ù†ÙÙØ³ÙÙƒÙ Ù‚ÙØ¯ Ù‡ÙØ¯ÙÙ…ØªØ§`,
      `Ø¬ÙØ¹ÙÙ„ØªÙ Ø§Ù„Ù…Ø§Ù„Ù ÙÙÙˆÙ‚Ù Ø§Ù„Ø¹ÙÙ„Ù…Ù Ø¬ÙÙ‡Ù„Ø§Ù‹ Ù„ÙØ¹ÙÙ…Ø±ÙÙƒÙ ÙÙŠ Ø§Ù„Ù‚ÙØ¶ÙŠÙ‘ÙØ©Ù Ù…Ø§Ø¹ÙØ¯ÙÙ„ØªØ§`,
      `ÙÙØ±ÙØ£Ø³Ù Ø§Ù„Ø¹ÙÙ„Ù…Ù ØªÙÙ‚ÙˆÙ‰ Ø§Ù„Ù„ÙÙ‡Ù Ø­ÙÙ‚Ù‘Ø§Ù‹ ÙˆÙÙ„ÙÙŠØ³Ù Ø¨ÙØ£ÙÙ† ÙŠÙÙ‚Ø§Ù„ Ù„ÙÙ‚ÙØ¯ Ø±ÙØ£ÙØ³ØªØ§`,
      `Ø¥ÙØ°Ø§ Ù…Ø§ Ù„ÙÙ… ÙŠÙÙÙØ¯ÙƒÙ Ø§Ù„Ø¹ÙÙ„Ù…Ù Ø®ÙÙŠØ±Ø§Ù‹ ÙÙØ®ÙÙŠØ±ÙŒ Ù…ÙÙ†Ù‡Ù Ø£ÙÙ† Ù„ÙÙˆ Ù‚ÙØ¯ Ø¬ÙÙ‡ÙÙ„ØªØ§`,
      `(ÙˆÙÙ‚ÙÙ„Ù Ø§Ø¹Ù’Ù…ÙÙ„ÙÙˆØ§ ÙÙØ³ÙÙŠÙØ±ÙÙ‰ Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ø¹ÙÙ…ÙÙ„ÙÙƒÙÙ…Ù’ ÙˆÙØ±ÙØ³ÙÙˆÙ„ÙÙ‡Ù ÙˆÙØ§Ù„Ù’Ù…ÙØ¤Ù’Ù…ÙÙ†ÙÙˆÙ†Ù)`,
      `(Ø±ÙØ¨Ù‘ÙÙ†ÙØ§ Ø£ÙÙÙ’Ø±ÙØºÙ’ Ø¹ÙÙ„ÙÙŠÙ’Ù†ÙØ§ ØµÙØ¨Ù’Ø±Ù‹Ø§ ÙˆÙØªÙÙˆÙÙÙ‘ÙÙ†ÙØ§ Ù…ÙØ³Ù’Ù„ÙÙ…ÙÙŠÙ†Ù)`,
      `(Ø±ÙØ¨Ù‘Ù Ø£ÙÙˆÙ’Ø²ÙØ¹Ù’Ù†ÙÙŠ Ø£ÙÙ†Ù’ Ø£ÙØ´Ù’ÙƒÙØ±Ù Ù†ÙØ¹Ù’Ù…ÙØªÙÙƒÙ Ø§Ù„Ù‘ÙØªÙÙŠ Ø£ÙÙ†Ù’Ø¹ÙÙ…Ù’ØªÙ Ø¹ÙÙ„ÙÙŠÙ‘Ù)`,
      `(Ø¥ÙÙ†Ù‘ÙÙ…ÙØ§ ÙŠÙÙˆÙÙÙ‘ÙÙ‰ Ø§Ù„ØµÙ‘ÙØ§Ø¨ÙØ±ÙÙˆÙ†Ù Ø£ÙØ¬Ù’Ø±ÙÙ‡ÙÙ… Ø¨ÙØºÙÙŠÙ’Ø±Ù Ø­ÙØ³ÙØ§Ø¨Ù)`,
      `(Ù„ÙÙ„Ù‘ÙØ°ÙÙŠÙ†Ù Ø£ÙØ­Ù’Ø³ÙÙ†ÙÙˆØ§ ÙÙÙŠ Ù‡ÙÙ°Ø°ÙÙ‡Ù Ø§Ù„Ø¯Ù‘ÙÙ†Ù’ÙŠÙØ§ Ø­ÙØ³ÙÙ†ÙØ©ÙŒ)`,
      `(Ø¥ÙÙ†Ù‘ÙÙ…ÙØ§ ÙŠÙØ®Ù’Ø´ÙÙ‰ Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ù…ÙÙ†Ù’ Ø¹ÙØ¨ÙØ§Ø¯ÙÙ‡Ù Ø§Ù„Ù’Ø¹ÙÙ„ÙÙ…ÙØ§Ø¡Ù)`,
    ];

    const random = Math.floor(Math.random() * footerText.length);

    const subject = document.getElementById(`subject`);
    const bodyTextDiv = document.querySelector(`.card-body > div`);
    const footerTextDiv = document.querySelector(`.card-footer > p`);

    function update() {
      bodyTextDiv.innerHTML = subjects[subject.value];
    }

    document.querySelector(`body`).onload = function () {
      footerTextDiv.innerHTML = footerText[random];
    };

    const subjects = {
      0: ``,
      table: `<table class="table"> <thead> <tr> <th scope="col">Ø§Ù„ÙŠÙˆÙ… ÙˆØ§Ù„ØªØ§Ø±ÙŠØ®</th> <th scope="col">Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</th> <th scope="col">Ù…Ø¯Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</th> <th scope="col">Ø§Ù„Ù…Ø¹Ù„Ù… ÙƒØ§ØªØ¨ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</th> </tr> </thead> <tbody> <tr> <th scope="row">Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡ 1446/11/29Ù‡Ù€</th> <td>Ø§Ù„ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ø±Ù‚Ù…ÙŠØ©</td> <td>Ø³Ø§Ø¹ØªØ§Ù† ÙˆÙ†ØµÙ</td> <td>Ù†ÙˆØ§Ù Ø§Ù„Ù…Ø§Ù„ÙƒÙŠ</td> </tr> <tr> <th scope="row">Ø§Ù„Ø£Ø­Ø¯ 1446/12/19Ù‡Ù€</th><td>Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª</td><td>Ø³Ø§Ø¹ØªØ§Ù† ÙˆÙ†ØµÙ</td> <td>Ø³Ø¹ÙˆØ¯ Ø§Ù„Ø³Ø±ÙŠØ­ÙŠ</td></tr><tr><th scope="row">Ø§Ù„Ø¥Ø«Ù†ÙŠÙ† 1446/12/20Ù‡Ù€</th> <td>Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡</td><td>Ø³Ø§Ø¹ØªØ§Ù† ÙˆÙ†ØµÙ</td> <td>Ø·Ø§Ø±Ù‚ Ø§Ù„ÙƒÙ†Ø§Ù†ÙŠ</td></tr><tr><th scope="row">Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡ 1446/12/21Ù‡Ù€</th><td>Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ</td><td>Ø³Ø§Ø¹ØªØ§Ù† ÙˆÙ†ØµÙ</td> <td>Ø¨Ø¯Ø± Ø§Ù„Ù…Ø§Ù„ÙƒÙŠ</td></tr><tr><th scope="row">Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡ 1446/12/22Ù‡Ù€</th><td>Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¡</td><td>Ø³Ø§Ø¹ØªØ§Ù† ÙˆÙ†ØµÙ</td> <td>Ø¶ÙŠÙ Ø§Ù„Ù„Ù‡ Ø§Ù„Ø­Ø±Ø¨ÙŠ</td> </tr><tr><th scope="row">Ø§Ù„Ø®Ù…ÙŠØ³ 1446/12/23Ù‡Ù€</th><td>Ø§Ù„Ø£Ø­ÙŠØ§Ø¡</td><td>Ø³Ø§Ø¹ØªØ§Ù† ÙˆÙ†ØµÙ</td> <td>Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ù‚Ø±Ù†ÙŠ</td> </tr></tbody> </table>`,
      tech: `<h5 class="mt-3">Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©:</h5><p>ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ</p><h5>Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø©:</h5><p>Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø© Ù…Ù† Ø§Ù„ÙƒØªØ§Ø¨.</p>`,
      math: `<h5 class="mt-3">Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©:</h5><p class="mb-1">30 Ø³Ø¤Ø§Ù„ Ø§Ø®ØªÙŠØ§Ø±Ø§Øª</p><p class="mb-1">10 Ø£Ø³Ø¦Ù„Ø© ØµØ­ ÙˆØ®Ø·Ø£</p><h5 class="mt-3">Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø©:</h5><p>Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø© Ù…Ù† Ø§Ù„ÙƒØªØ§Ø¨.</p><h5 class="mt-3">Ø´Ø±ÙˆØ­Ø§Øª Ù…Ø³Ø§Ø¹Ø¯Ø©:</h5><a class="d-block" href="https://youtu.be/n9o8r9YLOqg" target="_blank">Ù…Ù„Ø®Øµ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª Ù¢-Ù£ | Ø§Ù„ÙˆØ­Ø¯Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰</a><a class="d-block" href="https://youtu.be/-lLi7rksL0Y" target="_blank">Ù…Ù„Ø®Øµ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª Ù¢-Ù£ | Ø§Ù„ÙˆØ­Ø¯Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©</a><a class="d-block" href="https://youtu.be/2Ex06sfoe6U" target="_blank">ØªØ¨Ø³ÙŠØ· Ø¥Ù†Ø·Ø§Ù‚ Ø§Ù„Ù…Ù‚Ø§Ù…</a>`,
      chemistry: `<h5 class="mt-3">Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©:</h5><p class="mb-1">ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ</p><h5 class="mt-3">Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø©:</h5><p>Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø© Ù…Ù† Ù…Ø³Ø±Ø¯ Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡ØŒ ÙŠØ´Ù…Ù„ ÙƒÙ„ Ø§Ù„Ù…ÙˆØ§Ø¶ÙŠØ¹.</p><button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#abstractDownloderModal" data-subject="chemistry23">ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³Ø±Ø¯</button> <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#quizModal" data-subject="chemistry23" data-title="Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡" > Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù„Ù„ØªØ¬Ù…ÙŠØ¹Ø§Øª </button>`,
      english: `<h5 class="mt-3">Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©:</h5><p>ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ</p><h5>Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯:</h5><p class="mb-1">Ù…Ù† Ø§Ù„ÙƒØªØ§Ø¨ Ø§Ù„Ù€Grammar ÙˆØ§Ù„Ù€Form, Meaning, and Function.</p><p class="mb-1">Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ù†Ø³Ø® Ù„ØµÙ‚ Ù…Ù† Ø§Ù„Ø£Ù…Ø«Ù„Ø© ÙˆÙ…Ù† Ø§Ù„ØªÙ…Ø§Ø±ÙŠÙ† Ø£Ø³ÙÙ„ ÙƒÙ„ Ù‚Ø§Ø¹Ø¯Ø©.</p><p>Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø£ÙŠ Ø£Ø³Ø¦Ù„Ø© Ù…Ù† ÙƒØªØ§Ø¨ Ø§Ù„Ù†Ø´Ø§Ø·.</p><h5 class="mt-3">Ø§Ù„ÙƒÙ„Ù…Ø§Øª:</h5><p>Ù…Ù† Ø§Ù„Ù€Quick Check ÙˆØ§Ù„Ù€Real Talk ÙˆØ§Ù„Ù€Vocabulary Building.</p><button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#wordModal">Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„Ù…Ø§Øª</button> <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#wordsQuizModal">Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ÙƒÙ„Ù…Ø§Øª</button><h5 class="mt-3">Ø§Ù„Ù†Øµ:</h5><p>Ù†Øµ Ø¨Ø³ÙŠØ· Ù…Ø¹ Ø£Ø³Ø¦Ù„Ø© ØµØ­ ÙˆØ®Ø·Ø£ ÙˆØ§Ø¶Ø­Ø© Ø¨Ø¯ÙˆÙ† Ø£ÙŠ ØµØ¹ÙˆØ¨Ø©.</p><h5 class="mt-3">Ø´Ø±ÙˆØ­Ø§Øª Ù…Ø³Ø§Ø¹Ø¯Ø©:</h5><a class="d-block" href="https://youtu.be/68GnVXacrLI" target="_blank">Ù…Ù„Ø®Øµ Ù…Ø±Ø§Ø¬Ø¹Ø© Ù‚ÙˆØ§Ø¹Ø¯ Ù…ÙŠÙ‚Ø§ Ù‚ÙˆÙ„ Ù¢-Ù£</a></ul>`,
      biology: `<h5 class="mt-3">Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©:</h5><p class="mb-1">20 Ø³Ø¤Ø§Ù„ Ø§Ø®ØªÙŠØ§Ø±Ø§Øª</p><p class="mb-1">10 Ø£Ø³Ø¦Ù„Ø© ØµØ­ ÙˆØ®Ø·Ø£</p><p class="mb-1">5 Ø£Ø³Ø¦Ù„Ø© Ù…Ø²Ø§ÙˆØ¬Ø©</p><p>Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ 35 Ø³Ø¤Ø§Ù„</p><h5 class="mt-3">Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø©:</h5><p>Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø© Ù…Ù† Ù…Ø³Ø±Ø¯ Ø§Ù„Ø£Ø­ÙŠØ§Ø¡ØŒ ÙŠØ´Ù…Ù„ ÙƒÙ„ Ø§Ù„Ù…ÙˆØ§Ø¶ÙŠØ¹.</p><button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#abstractDownloderModal" data-subject="biology23">ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³Ø±Ø¯</button> <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#quizModal" data-subject="biology23" data-title="Ø§Ù„Ø£Ø­ÙŠØ§Ø¡" > Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù„Ù„ØªØ¬Ù…ÙŠØ¹Ø§Øª </button>`,
      physics: `<h5 class="mt-3">Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©:</h5><p>ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ</p><h5>Ø§Ù„Ù…Ø°Ø§ÙƒØ±Ø©:</h5><p>Ù‚Ø±ÙŠØ¨Ù‹Ø§.</p>`,
    };
  </script>

  <!-- Download Summary Script -->
  <script>
    document
      .getElementById("questionsCheckbox")
      .addEventListener("change", function () {
        const answersSection = document.getElementById("answersSection");
        answersSection.style.display = this.checked ? "block" : "none";
        if (!this.checked) {
          document.getElementById("answersCheckbox").checked = false;
        }
      });

    const abstracts = {
      biology23: {
        title: "Ø§Ù„Ø£Ø­ÙŠØ§Ø¡",
        100: "https://drive.google.com/file/d/1onjPwfpCQrmf_UdaO1yiwoQPDI_Rx6eR/view?usp=sharing",
        110: "https://drive.google.com/file/d/1txIFykHWjSrcOKdPf7xYNigFHKuF7yCe/view?usp=sharing",
        111: "https://drive.google.com/file/d/1bqkngstkGp5IK2MMmm-GtbmNEd4MyAe5/view?usp=sharing",
        "010": "https://drive.google.com/file/d/1ILY1Am26Z3-reWoJ2mN09FL6iG-wkdqQ/view?usp=sharing",
        "011": "https://drive.google.com/file/d/1Um39S3UVc81tezSbyadyi_jvluGHF__n/view?usp=sharing",
      },
      chemistry23: {
        title: "Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡",
        100: "https://drive.google.com/file/d/1r4LN8HWd3oifIzRJlVg7M_Aj9iQtt0yT/view?usp=sharing",
        110: "https://drive.google.com/file/d/1msdn4ZlbW3yQjyWKqICySr7SyMy4z6AY/view?usp=sharing",
        111: "https://drive.google.com/file/d/1ecRGUeTkUusoC58sbgL6AYCz3RFJgDZP/view?usp=sharing",
        "010": "https://drive.google.com/file/d/1QB1lC1YwnxvwNcq-xnGj4W6Ct31N5_I4/view?usp=sharing",
        "011": "https://drive.google.com/file/d/1bSxxcsR-Cr_FErZzCUzYaiysu7OR_vWm/view?usp=sharing",
      },
    };

    document
      .getElementById("abstractDownloderModal")
      .addEventListener("show.bs.modal", function (event) {
        const button = event.relatedTarget;
        const subject = button.getAttribute("data-subject");
        const modalTitle = document.getElementById(
          "abstractDownloderModalLabel"
        );
        const warningAlert = document.getElementById("warningAlert");

        modalTitle.textContent = `ØªØ­Ù…ÙŠÙ„ Ù…Ø³Ø±Ø¯ ${abstracts[subject]["title"]}`;
        warningAlert.style.display = "none";
      });

    document
      .getElementById("abstractDownloderModal")
      .addEventListener("hidden.bs.modal", function () {
        const summaryCheckbox = document.getElementById("summaryCheckbox");
        const questionsCheckbox = document.getElementById("questionsCheckbox");
        const answersCheckbox = document.getElementById("answersCheckbox");
        const answersSection = document.getElementById("answersSection");
        const modalTitle = document.getElementById(
          "abstractDownloderModalLabel"
        );
        const warningAlert = document.getElementById("warningAlert");

        summaryCheckbox.checked = false;
        questionsCheckbox.checked = false;
        answersCheckbox.checked = false;
        answersSection.style.display = "none";
        warningAlert.style.display = "none";
        modalTitle.textContent = "ØªØ­Ù…ÙŠÙ„ Ù…Ø³Ø±Ø¯";
      });

    function downloadSummary() {
      const summaryChecked = document.getElementById("summaryCheckbox").checked;
      const questionsChecked =
        document.getElementById("questionsCheckbox").checked;
      const answersChecked = document.getElementById("answersCheckbox").checked;
      const warningAlert = document.getElementById("warningAlert");
      const code = `${summaryChecked ? "1" : "0"}${
        questionsChecked ? "1" : "0"
      }${answersChecked ? "1" : "0"}`;

      if (code === "000") {
        warningAlert.style.display = "block";
        return;
      } else {
        warningAlert.style.display = "none";
      }

      const subjectBtn = document.querySelector("[data-subject]");
      const subject = subjectBtn.dataset.subject;

      const modalTitle = document.getElementById("abstractDownloderModalLabel");
      modalTitle.textContent = `ØªØ­Ù…ÙŠÙ„ Ù…Ø³Ø±Ø¯ ${abstracts[subject]["title"]}`;

      const fileName = `${abstracts[subject][code]}`;
      const a = document.createElement("a");
      a.href = fileName;
      a.target = "_blank";
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
    }

    document
      .getElementById("questionsCheckbox")
      .addEventListener("change", function () {
        const answersSection = document.getElementById("answersSection");
        answersSection.style.display = this.checked ? "block" : "none";

        if (!this.checked) {
          document.getElementById("answersCheckbox").checked = false;
        }
      });
  </script>

  <!-- Quiz Script -->
  <script>
    // Quiz Logic
    const quizModal = document.getElementById("quizModal");
    const quizConfig = document.getElementById("quiz-config");
    const quizSection = document.getElementById("quiz-section");
    const resultSection = document.getElementById("result-section");
    const questionImage = document.getElementById("question-image");
    const answerButtons = document.getElementById("answer-buttons");
    const feedback = document.getElementById("feedback");
    const nextButton = document.getElementById("next-button");
    const scoreDisplay = document.getElementById("score");
    const numQuestionsInput = document.getElementById("num-questions");
    const topicSelect = document.getElementById("topic-select");
    const startQuizButton = document.getElementById("start-quiz-button");
    const quizTitle = document.getElementById("quiz-title");
    const quizProgress = document.getElementById("quiz-progress");

    let questions = [];
    let currentQuestionIndex = 0;
    let score = 0;
    let incorrectAnswers = [];
    let selectedSubject = "biology23";

    // ØªØ­Ø¯ÙŠØ« ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø´ÙŠÙƒØ¨ÙˆÙƒØ³ÙŠØ² Ù„ÙŠÙƒÙˆÙ†ÙˆØ§ Ø£Ø²Ø±Ø§Ø± btn-check
    function renderTopicCheckboxes(topics) {
      const topicSelectContainer = document.getElementById(
        "topic-select-container"
      );
      topicSelectContainer.innerHTML = "";
      topics.forEach(topic => {
        const checkbox = document.createElement("input");
        checkbox.type = "checkbox";
        checkbox.className = "btn-check";
        checkbox.id = `topic-${topic}`;
        checkbox.value = topic;
        checkbox.autocomplete = "off";

        const label = document.createElement("label");
        label.className = "btn btn-sm btn-outline-light";
        label.htmlFor = `topic-${topic}`;
        label.textContent = topic;

        topicSelectContainer.appendChild(checkbox);
        topicSelectContainer.appendChild(label);
      });
    }

    // ØªØ­Ø¯ÙŠØ« loadQuestions Ù„ÙŠØ£Ø®Ø° ÙÙ‚Ø· Ø§Ù„ØªÙˆØ¨ÙŠÙƒØ§Øª Ø§Ù„ØªÙŠ ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø£Ø³Ø¦Ù„Ø©
    async function loadQuestions() {
      try {
        const response = await fetch(selectedSubject + "/data.json");
        const data = await response.json();
        let allQuestions = [];

        // ÙÙ‚Ø· Ø§Ù„ØªÙˆØ¨ÙŠÙƒØ§Øª Ø§Ù„ØªÙŠ ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø£Ø³Ø¦Ù„Ø©
        data.topics.forEach(topic => {
          if (topic.exercises_solve && topic.exercises_solve.length > 0) {
            topic.exercises_solve.forEach(ex => {
              allQuestions.push({
                topic: topic.name,
                image: `${topic.name}/exercise_${ex.id}.png`,
                correctAnswer: ex.solve || "A",
              });
            });
          }
        });

        questions = allQuestions;

        // ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø´ÙŠÙƒØ¨ÙˆÙƒØ³ÙŠØ² ÙƒØ£Ø²Ø±Ø§Ø±
        const topics = [...new Set(questions.map(q => q.topic))];
        renderTopicCheckboxes(topics);

        // ØªÙˆÙ„ÙŠØ¯ Ø£Ø²Ø±Ø§Ø± Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
        renderNumQuestionsButtons(questions.length);

        // Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØªÙˆØ¨ÙŠÙƒØ§Øª Ø§Ù„Ù…Ø®ØµØµØ©ØŒ Ø¹Ø¯Ù„ Ø£Ø²Ø±Ø§Ø± Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
        document
          .getElementById("topic-select-container")
          .addEventListener("change", updateCustomNumQuestions);
      } catch (error) {
        console.error("Error loading questions:", error);
        feedback.textContent = "Error loading questions. Please try again.";
      }
    }

    // Ø¯Ø§Ù„Ø© Ù„ØªØ­Ø¯ÙŠØ« Ø£Ø²Ø±Ø§Ø± Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¹Ù†Ø¯ ØªØ®ØµÙŠØµ Ø§Ù„ØªÙˆØ¨ÙŠÙƒØ§Øª
    function updateCustomNumQuestions() {
      if (document.getElementById("topic-custom").checked) {
        const selectedTopics = Array.from(
          document.querySelectorAll(
            '#topic-select-container input[type="checkbox"]:checked'
          )
        ).map(checkbox => checkbox.value);

        // Ø§Ø­Ø³Ø¨ Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„ØªÙˆØ¨ÙŠÙƒØ§Øª Ø§Ù„Ù…Ø®ØªØ§Ø±Ø© ÙÙ‚Ø·
        const filteredQuestions = questions.filter(q =>
          selectedTopics.includes(q.topic)
        );
        renderNumQuestionsButtons(filteredQuestions.length);

        // Ø­Ø¯Ø« Ù‚ÙŠÙ…Ø© input Ù„ÙŠÙƒÙˆÙ† Ø£Ù‚ØµÙ‰ Ø­Ø¯ Ù‡Ùˆ Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ØªØ§Ø­Ø©
        numQuestionsInput.max = filteredQuestions.length;
        if (parseInt(numQuestionsInput.value) > filteredQuestions.length) {
          numQuestionsInput.value = filteredQuestions.length;
        }
      }
    }

    // Ø¹Ù†Ø¯ ØªØºÙŠÙŠØ± ÙˆØ¶Ø¹ Ø§Ù„ØªÙˆØ¨ÙŠÙƒ (ÙƒÙ„/Ù…Ø®ØµØµ) Ø­Ø¯Ø« Ø£Ø²Ø±Ø§Ø± Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
    document
      .getElementById("topic-all")
      .addEventListener("change", function () {
        renderNumQuestionsButtons(questions.length);
        numQuestionsInput.max = questions.length;
      });
    document
      .getElementById("topic-custom")
      .addEventListener("change", function () {
        updateCustomNumQuestions();
      });

    // ØªÙˆÙ„ÙŠØ¯ Ø£Ø²Ø±Ø§Ø± Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
    function renderNumQuestionsButtons(total) {
      const group = document.getElementById("num-questions-group");
      group.innerHTML = "";

      // ØªÙˆÙ„ÙŠØ¯ Ø®ÙŠØ§Ø±Ø§Øª Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ©: 10ØŒ 20ØŒ 30ØŒ 50 Ø£Ùˆ Ø£Ù‚Ù„ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø¹Ø¯Ø¯ Ø£Ù‚Ù„
      let options = [];
      if (total <= 10) {
        options = [total];
      } else if (total <= 20) {
        options = [10, total];
      } else if (total <= 30) {
        options = [10, 20, total];
      } else if (total <= 50) {
        options = [10, 20, 30, total];
      } else {
        options = [10, 20, 30, 50];
        if (total > 50) options.push(total);
      }

      // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªÙƒØ±Ø§Ø±
      options = [...new Set(options)].filter(n => n > 0 && n <= total);

      options.forEach(num => {
        const btn = document.createElement("button");
        btn.type = "button";
        btn.className = "btn btn-outline-primary";
        btn.textContent = num === total ? `Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© (${total})` : num;
        btn.onclick = () => {
          document.getElementById("num-questions").style.display = "none";
          document.getElementById("num-questions").value = num;
          setActiveNumBtn(btn);
        };
        group.appendChild(btn);
      });

      // Ø²Ø± Ù…Ø®ØµØµ
      const customBtn = document.createElement("button");
      customBtn.type = "button";
      customBtn.className = "btn btn-outline-primary";
      customBtn.textContent = "Ù…Ø®ØµØµ";
      customBtn.onclick = () => {
        document.getElementById("num-questions").style.display = "inline-block";
        document.getElementById("num-questions").value = "";
        setActiveNumBtn(customBtn);
      };
      group.appendChild(customBtn);

      // ØªÙØ¹ÙŠÙ„ Ø£ÙˆÙ„ Ø²Ø± Ø§ÙØªØ±Ø§Ø¶ÙŠÙ‹Ø§
      group.children[0].click();
    }

    function setActiveNumBtn(activeBtn) {
      const group = document.getElementById("num-questions-group");
      Array.from(group.children).forEach(btn =>
        btn.classList.remove("btn-primary")
      );
      activeBtn.classList.add("btn-primary");
      activeBtn.classList.remove("btn-outline-primary");
      Array.from(group.children).forEach(btn => {
        if (btn !== activeBtn) {
          btn.classList.remove("btn-primary");
          btn.classList.add("btn-outline-primary");
        }
      });
    }

    // Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø´ÙŠÙƒØ¨ÙˆÙƒØ³ÙŠØ² Ø­Ø³Ø¨ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙƒÙ„/Ù…Ø®ØµØµ
    document
      .getElementById("topic-all")
      .addEventListener("change", function () {
        document.getElementById("topic-checkboxes-container").style.display =
          "none";
      });
    document
      .getElementById("topic-custom")
      .addEventListener("change", function () {
        document.getElementById("topic-checkboxes-container").style.display =
          "block";
      });

    // ØªØ­Ø¯ÙŠØ« startQuiz Ù„ÙŠØ£Ø®Ø° Ø§Ù„Ù…ÙˆØ§Ø¶ÙŠØ¹ Ø­Ø³Ø¨ Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±
    function startQuiz() {
      let filteredQuestions;
      if (document.getElementById("topic-all").checked) {
        filteredQuestions = questions;
      } else {
        const selectedTopics = Array.from(
          document.querySelectorAll(
            '#topic-select-container input[type="checkbox"]:checked'
          )
        ).map(checkbox => checkbox.value);
        filteredQuestions =
          selectedTopics.length > 0
            ? questions.filter(question =>
                selectedTopics.includes(question.topic)
              )
            : questions;
      }

      // Ø®Ù„Ø· Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
      filteredQuestions = [...filteredQuestions];
      shuffleArray(filteredQuestions);

      // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ ÙÙ‚Ø·
      let num = parseInt(numQuestionsInput.value) || filteredQuestions.length;
      filteredQuestions = filteredQuestions.slice(0, num);

      quizConfig.style.display = "none";
      quizSection.style.display = "block";
      resultSection.style.display = "none";
      currentQuestionIndex = 0;
      score = 0;
      incorrectAnswers = [];
      currentQuestions = filteredQuestions; // Ù…ØªØºÙŠØ± Ø¬Ø¯ÙŠØ¯ Ù„Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©
      showQuestion();
    }

    loadQuestions();

    // Function to start the quiz
    function startQuiz() {
      let filteredQuestions;
      if (document.getElementById("topic-all").checked) {
        filteredQuestions = questions;
      } else {
        const selectedTopics = Array.from(
          document.querySelectorAll(
            '#topic-select-container input[type="checkbox"]:checked'
          )
        ).map(checkbox => checkbox.value);
        filteredQuestions =
          selectedTopics.length > 0
            ? questions.filter(question =>
                selectedTopics.includes(question.topic)
              )
            : questions;
      }

      // Ø®Ù„Ø· Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
      filteredQuestions = [...filteredQuestions];
      shuffleArray(filteredQuestions);

      // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ ÙÙ‚Ø·
      let num = parseInt(numQuestionsInput.value) || filteredQuestions.length;
      filteredQuestions = filteredQuestions.slice(0, num);

      quizConfig.style.display = "none";
      quizSection.style.display = "block";
      resultSection.style.display = "none";
      currentQuestionIndex = 0;
      score = 0;
      incorrectAnswers = [];
      currentQuestions = filteredQuestions;
      userAnswers = new Array(filteredQuestions.length).fill(null);
      showQuestion();
      startQuizAutoSave();
    }

    // Function to show a question
    function showQuestion() {
      for (let i = 0; i < answerButtons.children.length; i++) {
        answerButtons.children[i].classList.remove("btn-success", "btn-danger");
        answerButtons.children[i].classList.add("btn-outline-light");
        answerButtons.children[i].disabled = false;
      }

      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø¯Ø§Ø¯ ÙˆØ§Ù„Ø¯Ø±Ø¬Ø©
      quizProgress.innerHTML = `Ø§Ù„Ø³Ø¤Ø§Ù„ <b>${
        currentQuestionIndex + 1
      }</b> Ù…Ù† <b>${currentQuestions.length}</b> | Ø§Ù„Ø¯Ø±Ø¬Ø©: <b>${score}</b>`;

      if (currentQuestionIndex >= currentQuestions.length) {
        endQuiz();
        return;
      }

      const question = currentQuestions[currentQuestionIndex];
      questionImage.src = `${selectedSubject}/${question.image}`;
      feedback.classList.remove("alert", "alert-success", "alert-danger");
      feedback.textContent = "";
      nextButton.style.display = "none";

      // Remove previous event listeners
      answerButtons.querySelectorAll(".answer-btn").forEach(btn => {
        btn.removeEventListener("click", checkAnswer);
      });

      // Add event listeners to answer buttons
      answerButtons.querySelectorAll(".answer-btn").forEach(btn => {
        btn.addEventListener("click", checkAnswer);
      });
    }

    // Function to check the answer
    function checkAnswer(event) {
      const selectedAnswer = event.target.dataset.answer;
      const question = currentQuestions[currentQuestionIndex];

      userAnswers[currentQuestionIndex] = selectedAnswer;

      if (selectedAnswer === question.correctAnswer) {
        score++;
        feedback.classList.add("alert", "alert-success");
        feedback.textContent = "Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©!";
        document.getElementById(selectedAnswer).classList.add("btn-success");
        document
          .getElementById(selectedAnswer)
          .classList.remove("btn-outline-light");
      } else {
        feedback.classList.add("alert", "alert-danger");
        feedback.textContent = `Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©. Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù‡ÙŠ: ${question.correctAnswer}`;
        document.getElementById(selectedAnswer).classList.add("btn-danger");
        document
          .getElementById(selectedAnswer)
          .classList.remove("btn-outline-light");
        document
          .getElementById(question.correctAnswer)
          .classList.add("btn-success");
        document
          .getElementById(question.correctAnswer)
          .classList.remove("btn-outline-light");
        incorrectAnswers.push(question);
      }

      nextButton.style.display = "block";

      // Disable answer buttons
      answerButtons.querySelectorAll(".answer-btn").forEach(btn => {
        btn.disabled = true;
      });

      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø¯Ø§Ø¯ ÙˆØ§Ù„Ø¯Ø±Ø¬Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©
      quizProgress.innerHTML = `Ø§Ù„Ø³Ø¤Ø§Ù„ <b>${
        currentQuestionIndex + 1
      }</b> Ù…Ù† <b>${currentQuestions.length}</b> | Ø§Ù„Ø¯Ø±Ø¬Ø©: <b>${score}</b>`;

      saveQuizState();
    }

    // Function to go to the next question
    function nextQuestion() {
      currentQuestionIndex++;
      showQuestion();
      saveQuizState();
    }

    // Event listeners
    startQuizButton.addEventListener("click", startQuiz);
    nextButton.addEventListener("click", nextQuestion);

    // Ø¯Ø§Ù„Ø© Ø®Ù„Ø· Ù…ØµÙÙˆÙØ©
    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    // ØªØ­Ø¯ÙŠØ« startQuiz Ù„ÙŠØ®Ù„Ø· Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ÙˆÙŠØ¶Ø¨Ø· Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„ØµØ­ÙŠØ­
    function startQuiz() {
      let filteredQuestions;
      if (document.getElementById("topic-all").checked) {
        filteredQuestions = questions;
      } else {
        const selectedTopics = Array.from(
          document.querySelectorAll(
            '#topic-select-container input[type="checkbox"]:checked'
          )
        ).map(checkbox => checkbox.value);
        filteredQuestions =
          selectedTopics.length > 0
            ? questions.filter(question =>
                selectedTopics.includes(question.topic)
              )
            : questions;
      }

      // Ø®Ù„Ø· Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
      filteredQuestions = [...filteredQuestions];
      shuffleArray(filteredQuestions);

      // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ ÙÙ‚Ø·
      let num = parseInt(numQuestionsInput.value) || filteredQuestions.length;
      filteredQuestions = filteredQuestions.slice(0, num);

      quizConfig.style.display = "none";
      quizSection.style.display = "block";
      resultSection.style.display = "none";
      currentQuestionIndex = 0;
      score = 0;
      incorrectAnswers = [];
      currentQuestions = filteredQuestions; // Ù…ØªØºÙŠØ± Ø¬Ø¯ÙŠØ¯ Ù„Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©
      userAnswers = new Array(filteredQuestions.length).fill(null);
      showQuestion();
      startQuizAutoSave();
    }

    // Ù…ØªØºÙŠØ± Ø¬Ø¯ÙŠØ¯ Ù„Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ù„Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©
    let currentQuestions = [];

    // ØªØ­Ø¯ÙŠØ« showQuestion Ù„ÙŠØ³ØªØ®Ø¯Ù… currentQuestions
    function showQuestion() {
      for (let i = 0; i < answerButtons.children.length; i++) {
        answerButtons.children[i].classList.remove("btn-success", "btn-danger");
        answerButtons.children[i].classList.add("btn-outline-light");
        answerButtons.children[i].disabled = false;
      }

      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø¯Ø§Ø¯ ÙˆØ§Ù„Ø¯Ø±Ø¬Ø©
      quizProgress.innerHTML = `Ø§Ù„Ø³Ø¤Ø§Ù„ <b>${
        currentQuestionIndex + 1
      }</b> Ù…Ù† <b>${currentQuestions.length}</b> | Ø§Ù„Ø¯Ø±Ø¬Ø©: <b>${score}</b>`;

      if (currentQuestionIndex >= currentQuestions.length) {
        endQuiz();
        return;
      }

      const question = currentQuestions[currentQuestionIndex];
      questionImage.src = `${selectedSubject}/${question.image}`;
      feedback.classList.remove("alert", "alert-success", "alert-danger");
      feedback.textContent = "";
      nextButton.style.display = "none";

      // Remove previous event listeners
      answerButtons.querySelectorAll(".answer-btn").forEach(btn => {
        btn.removeEventListener("click", checkAnswer);
      });

      // Add event listeners to answer buttons
      answerButtons.querySelectorAll(".answer-btn").forEach(btn => {
        btn.addEventListener("click", checkAnswer);
      });
    }

    // ØªØ­Ø¯ÙŠØ« checkAnswer Ù„ÙŠØ³ØªØ®Ø¯Ù… currentQuestions
    function checkAnswer(event) {
      const selectedAnswer = event.target.dataset.answer;
      const question = currentQuestions[currentQuestionIndex];

      userAnswers[currentQuestionIndex] = selectedAnswer;

      if (selectedAnswer === question.correctAnswer) {
        score++;
        feedback.classList.add("alert", "alert-success");
        feedback.textContent = "Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©!";
        document.getElementById(selectedAnswer).classList.add("btn-success");
        document
          .getElementById(selectedAnswer)
          .classList.remove("btn-outline-light");
      } else {
        feedback.classList.add("alert", "alert-danger");
        feedback.textContent = `Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©. Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù‡ÙŠ: ${question.correctAnswer}`;
        document.getElementById(selectedAnswer).classList.add("btn-danger");
        document
          .getElementById(selectedAnswer)
          .classList.remove("btn-outline-light");
        document
          .getElementById(question.correctAnswer)
          .classList.add("btn-success");
        document
          .getElementById(question.correctAnswer)
          .classList.remove("btn-outline-light");
        incorrectAnswers.push(question);
      }

      nextButton.style.display = "block";

      // Disable answer buttons
      answerButtons.querySelectorAll(".answer-btn").forEach(btn => {
        btn.disabled = true;
      });

      // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø¯Ø§Ø¯ ÙˆØ§Ù„Ø¯Ø±Ø¬Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©
      quizProgress.innerHTML = `Ø§Ù„Ø³Ø¤Ø§Ù„ <b>${
        currentQuestionIndex + 1
      }</b> Ù…Ù† <b>${currentQuestions.length}</b> | Ø§Ù„Ø¯Ø±Ø¬Ø©: <b>${score}</b>`;

      saveQuizState();
    }

    // ØªØ­Ø¯ÙŠØ« endQuiz Ù„ÙŠØ³ØªØ®Ø¯Ù… currentQuestions
    function endQuiz() {
      nextButton.style.display = "none";
      quizSection.style.display = "none";
      resultSection.style.display = "block";
      scoreDisplay.innerHTML = `<b>Ø§Ù„Ù†ØªÙŠØ¬Ø©: ${score} / ${currentQuestions.length}</b><br><div class="text-success mt-3">Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</div>`;
      clearQuizState(selectedSubject);
      stopQuizAutoSave();
    }

    // ØªØ­Ø¯ÙŠØ« nextQuestion Ù„ÙŠØ³ØªØ®Ø¯Ù… currentQuestions
    function nextQuestion() {
      currentQuestionIndex++;
      showQuestion();
      saveQuizState();
    }

    // Ø¥ØµÙ„Ø§Ø­ Ø²Ø± Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± (ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ³ØªØ¯Ø¹ÙŠ Ø¯Ø§Ù„Ø© startQuiz ÙÙ‚Ø·)
    startQuizButton.onclick = function () {
      startQuizButton.style.display = "none";
      startQuiz();
    };

    // Ø¥ØµÙ„Ø§Ø­ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† ÙƒÙ„ Ø´ÙŠØ¡ Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„
    quizModal.addEventListener("show.bs.modal", async function (event) {
      // Ø¬Ù„Ø¨ Ø§Ø³Ù… Ø§Ù„Ù…Ø§Ø¯Ø© ÙˆØ§Ø³Ù… Ø§Ù„Ù…Ù„Ù Ù…Ù† Ø§Ù„Ø²Ø±
      let btn = event.relatedTarget;
      if (!btn) {
        // Ø¥Ø°Ø§ Ù„Ù… ÙŠÙˆØ¬Ø¯ Ø²Ø± (Ù…Ø«Ù„Ø§Ù‹ Ø¥Ø¹Ø§Ø¯Ø© ÙØªØ­)ØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
        btn = document.querySelector('[data-bs-target="#quizModal"]');
      }
      const subjectFile = btn.getAttribute("data-subject") || "biology23";
      const subjectTitle = btn.getAttribute("data-title") || "Ø§Ù„Ø£Ø­ÙŠØ§Ø¡";
      selectedSubject = subjectFile;

      document.getElementById(
        "quizModalLabel"
      ).textContent = `Ø§Ø®ØªØ¨Ø§Ø± ${subjectTitle}`;

      // ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø§Ø®ØªØ¨Ø§Ø± Ù…Ø­ÙÙˆØ¸
      const saved = loadQuizState(subjectFile);
      if (
        saved &&
        saved.currentQuestions &&
        saved.currentQuestions.length > 0
      ) {
        const result = await Swal.fire({
          title: `ÙŠÙˆØ¬Ø¯ Ø§Ø®ØªØ¨Ø§Ø± ØºÙŠØ± Ù…ÙƒØªÙ…Ù„ Ù„Ù…Ø§Ø¯Ø© ${subjectTitle}`,
          text: "Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥ÙƒÙ…Ø§Ù„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø³Ø§Ø¨Ù‚ØŸ",
          icon: "question",
          showCancelButton: true,
          confirmButtonText: "Ù†Ø¹Ù…ØŒ Ø£ÙƒÙ…Ù„",
          cancelButtonText: "Ù„Ø§ØŒ Ø§Ø¨Ø¯Ø£ Ø¬Ø¯ÙŠØ¯",
        });
        if (result.isConfirmed) {
          // Ø§Ø³ØªØ±Ø¬Ø¹ Ø§Ù„Ø­Ø§Ù„Ø© Ø¨Ø§Ù„ÙƒØ§Ù…Ù„
          quizConfig.style.display = "none";
          quizSection.style.display = "block";
          resultSection.style.display = "none";
          currentQuestionIndex = saved.currentQuestionIndex;
          score = saved.score;
          incorrectAnswers = saved.incorrectAnswers || [];
          currentQuestions = saved.currentQuestions;
          userAnswers =
            saved.userAnswers ||
            new Array(saved.currentQuestions.length).fill(null);

          // Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØµÙÙŠØ©
          if (saved.topicMode === "all") {
            document.getElementById("topic-all").checked = true;
            document.getElementById(
              "topic-checkboxes-container"
            ).style.display = "none";
          } else {
            document.getElementById("topic-custom").checked = true;
            document.getElementById(
              "topic-checkboxes-container"
            ).style.display = "block";
            document
              .querySelectorAll(
                '#topic-select-container input[type="checkbox"]'
              )
              .forEach(cb => {
                cb.checked = saved.selectedTopics.includes(cb.value);
              });
          }
          numQuestionsInput.value =
            saved.numQuestions || saved.currentQuestions.length;

          showQuestion();
          startQuizAutoSave();
          startQuizButton.style.display = "none";
          return;
        } else {
          // Ø­Ø°Ù Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© ÙˆØ¨Ø¯Ø¡ Ø¬Ø¯ÙŠØ¯
          clearQuizState(subjectFile);
        }
      }

      // ...Ø¨Ø§Ù‚ÙŠ ÙƒÙˆØ¯ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ† ÙƒÙ…Ø§ Ù‡Ùˆ...

      quizConfig.style.display = "block";
      quizSection.style.display = "none";
      resultSection.style.display = "none";
      currentQuestionIndex = 0;
      score = 0;
      incorrectAnswers = [];
      currentQuestions = [];
      userAnswers = [];
      document.getElementById("topic-all").checked = true;
      document.getElementById("topic-checkboxes-container").style.display =
        "none";
      loadQuestions();
      renderNumQuestionsButtons(questions.length);
      numQuestionsInput.value = "";
      numQuestionsInput.style.display = "none";
      document
        .querySelectorAll('#topic-select-container input[type="checkbox"]')
        .forEach(cb => (cb.checked = false));
      startQuizButton.style.display = "block";
      stopQuizAutoSave();
    });

    // Ø¹Ù†Ø¯ Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„ Ø£ÙˆÙ‚Ù Ø§Ù„Ø­ÙØ¸ Ø§Ù„Ø¯ÙˆØ±ÙŠ
    quizModal.addEventListener("hidden.bs.modal", function () {
      stopQuizAutoSave();
      // ...Ø¨Ø§Ù‚ÙŠ ÙƒÙˆØ¯ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ¹ÙŠÙŠÙ† ÙƒÙ…Ø§ Ù‡Ùˆ...
      quizConfig.style.display = "block";
      quizSection.style.display = "none";
      resultSection.style.display = "none";
      currentQuestionIndex = 0;
      score = 0;
      incorrectAnswers = [];
      currentQuestions = [];
      // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…ÙˆØ§Ø¶ÙŠØ¹ ÙˆØ¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
      document.getElementById("topic-all").checked = true;
      document.getElementById("topic-checkboxes-container").style.display =
        "none";
      renderNumQuestionsButtons(questions.length);
      numQuestionsInput.value = "";
      numQuestionsInput.style.display = "none";
      // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø´ÙŠÙƒØ¨ÙˆÙƒØ³ÙŠØ²
      document
        .querySelectorAll('#topic-select-container input[type="checkbox"]')
        .forEach(cb => (cb.checked = false));
      // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©
      answerButtons.querySelectorAll(".answer-btn").forEach(btn => {
        btn.classList.remove("btn-success", "btn-danger");
        btn.classList.add("btn-outline-light");
        btn.disabled = false;
      });
      // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¹Ø¯Ø§Ø¯ ÙˆØ§Ù„Ø¯Ø±Ø¬Ø©
      quizProgress.innerHTML = `Ø§Ù„Ø³Ø¤Ø§Ù„ <b>0</b> Ù…Ù† <b>0</b> | Ø§Ù„Ø¯Ø±Ø¬Ø©: <b>0</b>`;
      scoreDisplay.innerHTML = `<b>Ø§Ù„Ù†ØªÙŠØ¬Ø©: 0 / 0</b><br><div class="text-success mt-3">Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</div>`;
      feedback.classList.remove("alert", "alert-success", "alert-danger");
      feedback.textContent = "";
      nextButton.style.display = "none";
      questionImage.src = "";
      // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø²Ø± Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
      startQuizButton.style.display = "block";
    });

    // Ø¯Ø§Ù„Ø© Ù„Ø­ÙØ¸ ÙƒÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ÙÙŠ localStorage Ø¨Ø´ÙƒÙ„ Ø¯ÙˆØ±ÙŠ
    function saveQuizState() {
      if (!currentQuestions || currentQuestions.length === 0) return;
      // Ø­ÙØ¸ ÙƒÙ„ Ø´ÙŠØ¡: Ø§Ù„Ø£Ø³Ø¦Ù„Ø©ØŒ Ø±Ù‚Ù… Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø­Ø§Ù„ÙŠØŒ Ø§Ù„Ø¯Ø±Ø¬Ø©ØŒ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§ØªØŒ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø®Ø§Ø·Ø¦Ø©ØŒ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØµÙÙŠØ©
      const state = {
        currentQuestionIndex,
        score,
        incorrectAnswers,
        currentQuestions,
        selectedSubject,
        userAnswers: userAnswers,
        topicMode: document.getElementById("topic-all").checked
          ? "all"
          : "custom",
        selectedTopics: Array.from(
          document.querySelectorAll(
            '#topic-select-container input[type="checkbox"]:checked'
          )
        ).map(cb => cb.value),
        numQuestions: numQuestionsInput.value,
        timestamp: Date.now(),
      };
      localStorage.setItem(
        "quizState_" + selectedSubject,
        JSON.stringify(state)
      );
    }

    // Ø¯Ø§Ù„Ø© Ù„Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ù…Ù† localStorage
    function loadQuizState(subject) {
      const data = localStorage.getItem("quizState_" + subject);
      if (!data) return null;
      try {
        return JSON.parse(data);
      } catch {
        return null;
      }
    }

    // Ø¯Ø§Ù„Ø© Ù„Ø­Ø°Ù Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ù…Ù† localStorage
    function clearQuizState(subject) {
      localStorage.removeItem("quizState_" + subject);
    }

    // Ù…ØªØºÙŠØ± Ù„ØªØ®Ø²ÙŠÙ† Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
    let userAnswers = [];

    // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙƒÙ„ 3 Ø«ÙˆØ§Ù†ÙŠ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
    let quizSaveInterval = null;
    function startQuizAutoSave() {
      if (quizSaveInterval) clearInterval(quizSaveInterval);
      quizSaveInterval = setInterval(saveQuizState, 3000);
    }
    function stopQuizAutoSave() {
      if (quizSaveInterval) clearInterval(quizSaveInterval);
      quizSaveInterval = null;
    }
  </script>

  <!-- Words Script -->
  <script>
    const englishWords = {
      // Exercise 1 - Fill in the blanks
      Bilingual: "someone who can speak both Arabic and English",
      Astonished: "someone who is amazed at something",
      Remarkable: "something that is incredible",
      Puzzled: "someone who is confused by something",
      Irritated: "someone who is annoyed at something",
      Fascinated: "someone who is very interested in something",

      // Phrases set 1
      "To tell you the truth": "to tell you exactly how I feel",
      "Getting to": "annoying or bothering",
      "Cheer you up": "make you feel happier",
      Killer: "great, amazing",
      "Blow me away": "really impress me",

      // Exercise 2 - Medical vocabulary matching
      Cardiovascular: "involving the heart and blood vessels",
      Equivalent: "equal",
      Hearty: "strong and with feeling",
      Antibodies: "substance produced by the body to fight germs and infection",
      Pediatric: "related to the medical care of children",
      Stimulate: "to increase energy or activity",
      Enhance: "to improve",
      Prompt: "to cause someone to do something",
      Genuine: "real, not false",

      // Exercise 3 - Food vocabulary (definitions provided)
      Delicacy: "an expensive and/or hard to find food",
      Toxins: "poisons",
      Licensed: "having legal permission to do something",
      Maintain: "to keep something in good shape",
      Peak: "the highest point",
      Aroma: "fragrant smell",
      Distinguish: "to be able to identify one from another",

      // Phrases set 2
      Spread: "an abundant meal laid out on a table",
      "Whipped it up": "made it quickly and easily",
      "In no time": "very quickly",
      "Quite the": "a very good (something)",
      "Come to think of it": "something has just occurred to me",
      "Have a sweet tooth": "love desserts and candy",

      // Exercise 4 - General vocabulary matching
      Existence: "the presence of something in reality",
      Staple: "a common or important item",
      Vendor: "someone who sells something",
      Quandary: "a situation in which someone doesn't know what to do",
      Indulgence:
        "something you let yourself have even though it may be bad for you",
      Substitute: "something that is used in place of another thing",
      Delectable: "delicious",

      // Exercise 5 - Personal vocabulary matching
      Residence: "place where someone lives",
      Bond: "connection between two living things",
      Duration: "length of time",
      Abstract: "relating to ideas or feelings",
      Pampered: "indulged",
      Adapted: "adjusted to something new",

      // Phrases set 3
      "Hang in there": "don't give up!",
      "24/7": "all day and night, non-stop (24 hours a day/7 days a week)",
      "Get to the point": "be direct",
      "Calling the shots": "in charge and making the decisions",
      "Back to the drawing board":
        "to have to start a process over again from the beginning",

      // Exercise 6 - Psychology vocabulary matching
      Consciousness: "the state of being awake",
      Alert: "aware",
      Disturbed: "worried",
      Deliberately: "on purpose",
      Speculates: "guesses about",
      Domesticated: "tamed",
      Aggressive: "unfriendly, hostile",
      Compassion: "sympathy and concern",

      // Exercise 7 - Fill in the blanks with context
      Responsible: "who is responsible for cleaning up this mess?",
      Vanish:
        "my mother's cookies always vanish moments after she takes them out of the oven",
      Motivate:
        "the beautiful weather helped motivate me to go outside and get some exercise",
      Morally: "people should feel that it's morally wrong to buy stolen goods",
      Dread: "I dread taking final exams next week",
      Tempted:
        "I was tempted to watch the film on TV, but I made myself study instead",

      // Phrases set 4
      Rotten: "bad",
      "I wouldn't put it past him": "I believe he would do that",
      "Blow the whistle on": "to reveal and put a stop to wrongdoing",
      Call: "decision",

      // Exercise 8 - Medical/genetic vocabulary matching
      Genetic:
        "related to the part of a cell that contains your parents' characteristics",
      Treatable: "capable of being cured",
      Diagnosis: "identification of the cause of a problem",
      Undergo: "experience",
      Inherited: "received from a parent or ancestor",
      Preventative: "done in order to avoid",
      Controversial: "causing disagreement",
      Potential: "the possibility of being or doing something",
    };

    const wordsTranslation = {
      // Exercise 1 - Fill in the blanks
      Bilingual: "Ø«Ù†Ø§Ø¦ÙŠ Ø§Ù„Ù„ØºØ©",
      "someone who can speak both Arabic and English":
        "Ø´Ø®Øµ ÙŠØ³ØªØ·ÙŠØ¹ Ø§Ù„ØªØ­Ø¯Ø« Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙˆØ§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©",

      Astonished: "Ù…Ù†Ø¯Ù‡Ø´ØŒ Ù…Ø°Ù‡ÙˆÙ„",
      "someone who is amazed at something": "Ø´Ø®Øµ Ù…Ø¹Ø¬Ø¨ Ø£Ùˆ Ù…Ù†Ø¯Ù‡Ø´ Ù…Ù† Ø´ÙŠØ¡ Ù…Ø§",

      Remarkable: "Ø±Ø§Ø¦Ø¹ØŒ Ù…Ù…ÙŠØ²ØŒ Ø¬Ø¯ÙŠØ± Ø¨Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø©",
      "something that is incredible": "Ø´ÙŠØ¡ Ù„Ø§ ÙŠØµØ¯Ù‚ Ø£Ùˆ Ù…Ø°Ù‡Ù„",

      Puzzled: "Ù…Ø­ØªØ§Ø±ØŒ Ù…Ø±ØªØ¨Ùƒ",
      "someone who is confused by something": "Ø´Ø®Øµ Ù…Ø­ØªØ§Ø± Ø£Ùˆ Ù…Ø±ØªØ¨Ùƒ Ù…Ù† Ø´ÙŠØ¡ Ù…Ø§",

      Irritated: "Ù…Ù†Ø²Ø¹Ø¬ØŒ Ù…ØªØ¶Ø§ÙŠÙ‚",
      "someone who is annoyed at something": "Ø´Ø®Øµ Ù…Ù†Ø²Ø¹Ø¬ Ø£Ùˆ Ù…ØªØ¶Ø§ÙŠÙ‚ Ù…Ù† Ø´ÙŠØ¡ Ù…Ø§",

      Fascinated: "Ù…ÙØªÙˆÙ†ØŒ Ø´Ø¯ÙŠØ¯ Ø§Ù„Ø§Ù‡ØªÙ…Ø§Ù…",
      "someone who is very interested in something":
        "Ø´Ø®Øµ Ù…Ù‡ØªÙ… Ø¬Ø¯Ø§Ù‹ Ø£Ùˆ Ù…ÙØªÙˆÙ† Ø¨Ø´ÙŠØ¡ Ù…Ø§",

      // Phrases set 1
      "To tell you the truth": "Ù„Ø£ÙƒÙˆÙ† ØµØ§Ø¯Ù‚Ø§Ù‹ Ù…Ø¹Ùƒ",
      "to tell you exactly how I feel": "Ù„Ø£Ø®Ø¨Ø±Ùƒ Ø¨Ø§Ù„Ø¶Ø¨Ø· ÙƒÙŠÙ Ø£Ø´Ø¹Ø±",

      "Getting to": "ÙŠØ²Ø¹Ø¬ØŒ ÙŠØ¶Ø§ÙŠÙ‚",
      "annoying or bothering": "Ø¥Ø²Ø¹Ø§Ø¬ Ø£Ùˆ Ù…Ø¶Ø§ÙŠÙ‚Ø©",

      "Cheer you up": "ÙŠØ±ÙØ¹ Ù…Ø¹Ù†ÙˆÙŠØ§ØªÙƒ",
      "make you feel happier": "ÙŠØ¬Ø¹Ù„Ùƒ ØªØ´Ø¹Ø± Ø¨Ø³Ø¹Ø§Ø¯Ø© Ø£ÙƒØ¨Ø±",

      Killer: "Ø±Ø§Ø¦Ø¹ØŒ Ù…Ø°Ù‡Ù„",
      "great, amazing": "Ø¹Ø¸ÙŠÙ…ØŒ Ù…Ø°Ù‡Ù„",

      "Blow me away": "ÙŠØ¨Ù‡Ø±Ù†ÙŠØŒ ÙŠØ°Ù‡Ù„Ù†ÙŠ",
      "really impress me": "ÙŠØ¹Ø¬Ø¨Ù†ÙŠ Ø­Ù‚Ø§Ù‹ Ø£Ùˆ ÙŠØ¨Ù‡Ø±Ù†ÙŠ",

      // Exercise 2 - Medical vocabulary matching
      Cardiovascular: "Ù‚Ù„Ø¨ÙŠ ÙˆØ¹Ø§Ø¦ÙŠ",
      "involving the heart and blood vessels": "ÙŠØªØ¹Ù„Ù‚ Ø¨Ø§Ù„Ù‚Ù„Ø¨ ÙˆØ§Ù„Ø£ÙˆØ¹ÙŠØ© Ø§Ù„Ø¯Ù…ÙˆÙŠØ©",

      Equivalent: "Ù…ÙƒØ§ÙØ¦ØŒ Ù…Ø¹Ø§Ø¯Ù„",
      equal: "Ù…ØªØ³Ø§ÙˆÙŠ",

      Hearty: "Ø­Ø§Ø±ØŒ Ø¨Ø­Ù…Ø§Ø³",
      "strong and with feeling": "Ù‚ÙˆÙŠ ÙˆÙ…Ù„ÙŠØ¡ Ø¨Ø§Ù„Ù…Ø´Ø§Ø¹Ø±",

      Antibodies: "Ø£Ø¬Ø³Ø§Ù… Ù…Ø¶Ø§Ø¯Ø©",
      "substance produced by the body to fight germs and infection":
        "Ù…Ø§Ø¯Ø© ÙŠÙ†ØªØ¬Ù‡Ø§ Ø§Ù„Ø¬Ø³Ù… Ù„Ù…Ø­Ø§Ø±Ø¨Ø© Ø§Ù„Ø¬Ø±Ø§Ø«ÙŠÙ… ÙˆØ§Ù„Ø¹Ø¯ÙˆÙ‰",

      Pediatric: "Ø·Ø¨ Ø§Ù„Ø£Ø·ÙØ§Ù„",
      "related to the medical care of children":
        "Ù…ØªØ¹Ù„Ù‚ Ø¨Ø§Ù„Ø±Ø¹Ø§ÙŠØ© Ø§Ù„Ø·Ø¨ÙŠØ© Ù„Ù„Ø£Ø·ÙØ§Ù„",

      Stimulate: "ÙŠØ­ÙØ²ØŒ ÙŠÙÙ†Ø´Ø·",
      "to increase energy or activity": "Ù„Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø·Ø§Ù‚Ø© Ø£Ùˆ Ø§Ù„Ù†Ø´Ø§Ø·",

      Enhance: "ÙŠÙØ­Ø³Ù†ØŒ ÙŠÙØ¹Ø²Ø²",
      "to improve": "Ù„ØªØ­Ø³ÙŠÙ† Ø´ÙŠØ¡ Ù…Ø§",

      Prompt: "ÙŠØ­Ø«ØŒ ÙŠØ¯ÙØ¹",
      "to cause someone to do something": "Ù„Ø¬Ø¹Ù„ Ø´Ø®Øµ ÙŠÙØ¹Ù„ Ø´ÙŠØ¦Ø§Ù‹ Ù…Ø§",

      Genuine: "Ø­Ù‚ÙŠÙ‚ÙŠØŒ Ø£ØµÙŠÙ„",
      "real, not false": "Ø­Ù‚ÙŠÙ‚ÙŠØŒ Ù„ÙŠØ³ Ù…Ø²ÙŠÙØ§Ù‹",

      // Exercise 3 - Food vocabulary
      Delicacy: "Ø·Ø¹Ø§Ù… Ø´Ù‡ÙŠØŒ Ø£ÙƒÙ„Ø© Ù…Ù…ÙŠØ²Ø©",
      "an expensive and/or hard to find food": "Ø·Ø¹Ø§Ù… ØºØ§Ù„ÙŠ Ùˆ/Ø£Ùˆ ØµØ¹Ø¨ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„ÙŠÙ‡",

      Toxins: "Ø³Ù…ÙˆÙ…",
      poisons: "Ø³Ù…ÙˆÙ…",

      Licensed: "Ù…ÙØ±Ø®Øµ",
      "having legal permission to do something": "Ù„Ø¯ÙŠÙ‡ Ø¥Ø°Ù† Ù‚Ø§Ù†ÙˆÙ†ÙŠ Ù„ÙØ¹Ù„ Ø´ÙŠØ¡ Ù…Ø§",

      Maintain: "ÙŠØ­Ø§ÙØ¸ Ø¹Ù„Ù‰",
      "to keep something in good shape": "Ù„Ù„Ù…Ø­Ø§ÙØ¸Ø© Ø¹Ù„Ù‰ Ø´ÙŠØ¡ ÙÙŠ Ø­Ø§Ù„Ø© Ø¬ÙŠØ¯Ø©",

      Peak: "Ù‚Ù…Ø©ØŒ Ø£Ø¹Ù„Ù‰ Ù†Ù‚Ø·Ø©",
      "the highest point": "Ø£Ø¹Ù„Ù‰ Ù†Ù‚Ø·Ø©",

      Aroma: "Ø±Ø§Ø¦Ø­Ø© Ø¹Ø·Ø±Ø©",
      "fragrant smell": "Ø±Ø§Ø¦Ø­Ø© Ø¹Ø·Ø±Ø©",

      Distinguish: "ÙŠÙ…ÙŠØ²",
      "to be able to identify one from another": "Ø§Ù„Ù‚Ø¯Ø±Ø© Ø¹Ù„Ù‰ ØªÙ…ÙŠÙŠØ² Ø´ÙŠØ¡ Ø¹Ù† Ø¢Ø®Ø±",

      // Phrases set 2
      Spread: "Ù…Ø£Ø¯Ø¨Ø©ØŒ ÙˆÙ„ÙŠÙ…Ø©",
      "an abundant meal laid out on a table": "ÙˆØ¬Ø¨Ø© ÙˆÙÙŠØ±Ø© Ù…ÙˆØ¶ÙˆØ¹Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø§Ø¦Ø¯Ø©",

      "Whipped it up": "Ø­Ø¶Ø±ØªÙ‡ Ø¨Ø³Ø±Ø¹Ø©",
      "made it quickly and easily": "ØµÙ†Ø¹Ù‡ Ø¨Ø³Ø±Ø¹Ø© ÙˆØ³Ù‡ÙˆÙ„Ø©",

      "In no time": "ÙÙŠ Ù„Ù…Ø­ Ø§Ù„Ø¨ØµØ±",
      "very quickly": "Ø¨Ø³Ø±Ø¹Ø© ÙƒØ¨ÙŠØ±Ø©",

      "Quite the": "Ø±Ø§Ø¦Ø¹ Ø¬Ø¯Ø§Ù‹",
      "a very good (something)": "(Ø´ÙŠØ¡) Ø¬ÙŠØ¯ Ø¬Ø¯Ø§Ù‹",

      "Come to think of it": "ÙˆØ§Ù„Ø¢Ù† Ø£ØªØ°ÙƒØ±",
      "something has just occurred to me": "Ø´ÙŠØ¡ Ø®Ø·Ø± Ø¨Ø¨Ø§Ù„ÙŠ Ù„Ù„ØªÙˆ",

      "Have a sweet tooth": "Ù…Ø­Ø¨ Ù„Ù„Ø­Ù„ÙˆÙŠØ§Øª",
      "love desserts and candy": "ÙŠØ­Ø¨ Ø§Ù„Ø­Ù„ÙˆÙŠØ§Øª ÙˆØ§Ù„Ø³ÙƒØ§ÙƒØ±",

      // Exercise 4 - General vocabulary matching
      Existence: "ÙˆØ¬ÙˆØ¯",
      "the presence of something in reality": "ÙˆØ¬ÙˆØ¯ Ø´ÙŠØ¡ ÙÙŠ Ø§Ù„ÙˆØ§Ù‚Ø¹",

      Staple: "Ø£Ø³Ø§Ø³ÙŠØŒ Ø¹Ù†ØµØ± Ù…Ù‡Ù…",
      "a common or important item": "Ø¹Ù†ØµØ± Ø´Ø§Ø¦Ø¹ Ø£Ùˆ Ù…Ù‡Ù…",

      Vendor: "Ø¨Ø§Ø¦Ø¹",
      "someone who sells something": "Ø´Ø®Øµ ÙŠØ¨ÙŠØ¹ Ø´ÙŠØ¦Ø§Ù‹ Ù…Ø§",

      Quandary: "Ø­ÙŠØ±Ø©ØŒ Ù…Ø¹Ø¶Ù„Ø©",
      "a situation in which someone doesn't know what to do":
        "Ù…ÙˆÙ‚Ù Ù„Ø§ ÙŠØ¹Ø±Ù ÙÙŠÙ‡ Ø§Ù„Ø´Ø®Øµ Ù…Ø§Ø°Ø§ ÙŠÙØ¹Ù„",

      Indulgence: "ØªØ¯Ù„ÙŠÙ„ Ø§Ù„Ù†ÙØ³",
      "something you let yourself have even though it may be bad for you":
        "Ø´ÙŠØ¡ ØªØ³Ù…Ø­ Ù„Ù†ÙØ³Ùƒ Ø¨Ù‡ Ø±ØºÙ… Ø£Ù†Ù‡ Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ø¶Ø§Ø±Ø§Ù‹",

      Substitute: "Ø¨Ø¯ÙŠÙ„",
      "something that is used in place of another thing":
        "Ø´ÙŠØ¡ ÙŠÙØ³ØªØ®Ø¯Ù… Ù…ÙƒØ§Ù† Ø´ÙŠØ¡ Ø¢Ø®Ø±",

      Delectable: "Ù„Ø°ÙŠØ°ØŒ Ø´Ù‡ÙŠ",
      delicious: "Ù„Ø°ÙŠØ°",

      // Exercise 5 - Personal vocabulary matching
      Residence: "Ø¥Ù‚Ø§Ù…Ø©ØŒ Ù…Ù†Ø²Ù„",
      "place where someone lives": "Ù…ÙƒØ§Ù† ÙŠØ¹ÙŠØ´ ÙÙŠÙ‡ Ø´Ø®Øµ Ù…Ø§",

      Bond: "Ø±Ø§Ø¨Ø·Ø©ØŒ Ø¹Ù„Ø§Ù‚Ø©",
      "connection between two living things": "ØµÙ„Ø© Ø¨ÙŠÙ† ÙƒØ§Ø¦Ù†ÙŠÙ† Ø­ÙŠÙŠÙ†",

      Duration: "Ù…Ø¯Ø©ØŒ ÙØªØ±Ø© Ø²Ù…Ù†ÙŠØ©",
      "length of time": "Ø·ÙˆÙ„ Ø§Ù„ÙˆÙ‚Øª",

      Abstract: "Ù…Ø¬Ø±Ø¯ØŒ Ù†Ø¸Ø±ÙŠ",
      "relating to ideas or feelings": "Ù…ØªØ¹Ù„Ù‚ Ø¨Ø§Ù„Ø£ÙÙƒØ§Ø± Ø£Ùˆ Ø§Ù„Ù…Ø´Ø§Ø¹Ø±",

      Pampered: "Ù…Ø¯Ù„Ù„",
      indulged: "Ù…Ø¯Ù„Ù„ Ø£Ùˆ Ù…Ù‡ØªÙ… Ø¨Ù‡ Ø¨Ø¥ÙØ±Ø§Ø·",

      Adapted: "ØªØ£Ù‚Ù„Ù…ØŒ ØªÙƒÙŠÙ",
      "adjusted to something new": "ØªÙƒÙŠÙ Ù…Ø¹ Ø´ÙŠØ¡ Ø¬Ø¯ÙŠØ¯",

      // Phrases set 3
      "Hang in there": "Ø§ØµØ¨Ø±ØŒ Ù„Ø§ ØªØ³ØªØ³Ù„Ù…",
      "don't give up!": "Ù„Ø§ ØªØ³ØªØ³Ù„Ù…!",

      "24/7": "Ø¹Ù„Ù‰ Ù…Ø¯Ø§Ø± Ø§Ù„Ø³Ø§Ø¹Ø©",
      "all day and night, non-stop (24 hours a day/7 days a week)":
        "Ø·ÙˆØ§Ù„ Ø§Ù„Ù†Ù‡Ø§Ø± ÙˆØ§Ù„Ù„ÙŠÙ„ØŒ Ø¨Ù„Ø§ ØªÙˆÙ‚Ù (24 Ø³Ø§Ø¹Ø© ÙÙŠ Ø§Ù„ÙŠÙˆÙ…/7 Ø£ÙŠØ§Ù… ÙÙŠ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹)",

      "Get to the point": "Ø§Ø¯Ø®Ù„ ÙÙŠ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹",
      "be direct": "ÙƒÙ† Ù…Ø¨Ø§Ø´Ø±Ø§Ù‹",

      "Calling the shots": "ÙŠØªØ®Ø° Ø§Ù„Ù‚Ø±Ø§Ø±Ø§Øª",
      "in charge and making the decisions": "Ù…Ø³Ø¤ÙˆÙ„ ÙˆÙŠØªØ®Ø° Ø§Ù„Ù‚Ø±Ø§Ø±Ø§Øª",

      "Back to the drawing board": "Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø¨Ø¯Ø§ÙŠØ©",
      "to have to start a process over again from the beginning":
        "Ø§Ù„Ø§Ø¶Ø·Ø±Ø§Ø± Ù„Ø¨Ø¯Ø¡ Ø¹Ù…Ù„ÙŠØ© Ù…Ù† Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©",

      // Exercise 6 - Psychology vocabulary matching
      Consciousness: "ÙˆØ¹ÙŠ",
      "the state of being awake": "Ø­Ø§Ù„Ø© Ø§Ù„ÙŠÙ‚Ø¸Ø©",

      Alert: "ÙŠÙ‚Ø¸ØŒ Ù…Ù†ØªØ¨Ù‡",
      aware: "ÙˆØ§Ø¹ÙŠ",

      Disturbed: "Ù‚Ù„Ù‚ØŒ Ù…Ø¶Ø·Ø±Ø¨",
      worried: "Ù‚Ù„Ù‚",

      Deliberately: "Ø¹Ù…Ø¯Ø§Ù‹ØŒ Ù‚ØµØ¯Ø§Ù‹",
      "on purpose": "Ø¹Ù† Ù‚ØµØ¯",

      Speculates: "ÙŠØªÙƒÙ‡Ù†ØŒ ÙŠØ®Ù…Ù†",
      "guesses about": "ÙŠØ®Ù…Ù† Ø­ÙˆÙ„",

      Domesticated: "Ø£Ù„ÙŠÙØŒ Ù…ÙØ³ØªØ£Ù†Ø³",
      tamed: "Ù…ÙØ±ÙˆØ¶",

      Aggressive: "Ø¹Ø¯ÙˆØ§Ù†ÙŠ",
      "unfriendly, hostile": "ØºÙŠØ± ÙˆØ¯ÙˆØ¯ØŒ Ø¹Ø¯Ø§Ø¦ÙŠ",

      Compassion: "Ø´ÙÙ‚Ø©ØŒ Ø±Ø­Ù…Ø©",
      "sympathy and concern": "ØªØ¹Ø§Ø·Ù ÙˆØ§Ù‡ØªÙ…Ø§Ù…",

      // Exercise 7 - Fill in the blanks with context
      Responsible: "Ù…Ø³Ø¤ÙˆÙ„",
      "who is responsible for cleaning up this mess?":
        "Ù…Ù† Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ø¹Ù† ØªÙ†Ø¸ÙŠÙ Ù‡Ø°Ù‡ Ø§Ù„ÙÙˆØ¶Ù‰ØŸ",

      Vanish: "ØªØ®ØªÙÙŠ",
      "my mother's cookies always vanish moments after she takes them out of the oven":
        "ÙƒØ¹Ùƒ Ø£Ù…ÙŠ ÙŠØ®ØªÙÙŠ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ø¨Ø¹Ø¯ Ù„Ø­Ø¸Ø§Øª Ù…Ù† Ø¥Ø®Ø±Ø§Ø¬Ù‡ Ù…Ù† Ø§Ù„ÙØ±Ù†",

      Motivate: "ÙŠØ­ÙØ²",
      "the beautiful weather helped motivate me to go outside and get some exercise":
        "Ø§Ù„Ø·Ù‚Ø³ Ø§Ù„Ø¬Ù…ÙŠÙ„ Ø³Ø§Ø¹Ø¯ ÙÙŠ ØªØ­ÙÙŠØ²ÙŠ Ù„Ù„Ø®Ø±ÙˆØ¬ ÙˆÙ…Ù…Ø§Ø±Ø³Ø© Ø§Ù„Ø±ÙŠØ§Ø¶Ø©",

      Morally: "Ø£Ø®Ù„Ø§Ù‚ÙŠØ§Ù‹",
      "people should feel that it's morally wrong to buy stolen goods":
        "ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ´Ø¹Ø± Ø§Ù„Ù†Ø§Ø³ Ø£Ù†Ù‡ Ù…Ù† Ø§Ù„Ø®Ø·Ø£ Ø£Ø®Ù„Ø§Ù‚ÙŠØ§Ù‹ Ø´Ø±Ø§Ø¡ Ø§Ù„Ø¨Ø¶Ø§Ø¦Ø¹ Ø§Ù„Ù…Ø³Ø±ÙˆÙ‚Ø©",

      Dread: "Ø£Ø®Ø´Ù‰ØŒ Ø£Ø±Ù‡Ø¨",
      "I dread taking final exams next week":
        "Ø£Ø®Ø´Ù‰ Ù…Ù† Ø§Ù…ØªØ­Ø§Ù†Ø§Øª Ù†Ù‡Ø§ÙŠØ© Ø§Ù„ÙØµÙ„ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ù‚Ø§Ø¯Ù…",

      Tempted: "Ù…ÙØºØ±Ù‰ØŒ Ù…ÙØ¬Ø±Ø¨",
      "I was tempted to watch the film on TV, but I made myself study instead":
        "ÙƒÙ†Øª Ù…ÙØºØ±Ù‰ Ù„Ù…Ø´Ø§Ù‡Ø¯Ø© Ø§Ù„ÙÙŠÙ„Ù… Ø¹Ù„Ù‰ Ø§Ù„ØªÙ„ÙØ§Ø²ØŒ Ù„ÙƒÙ†Ù†ÙŠ Ø£Ø¬Ø¨Ø±Øª Ù†ÙØ³ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø¯Ø±Ø§Ø³Ø© Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø°Ù„Ùƒ",

      // Phrases set 4
      Rotten: "ÙØ§Ø³Ø¯ØŒ Ø³ÙŠØ¡",
      bad: "Ø³ÙŠØ¡",

      "I wouldn't put it past him": "Ù„Ø§ Ø£Ø³ØªØ¨Ø¹Ø¯ Ù…Ù†Ù‡ Ø°Ù„Ùƒ",
      "I believe he would do that": "Ø£Ø¹ØªÙ‚Ø¯ Ø£Ù†Ù‡ Ø³ÙŠÙØ¹Ù„ Ø°Ù„Ùƒ",

      "Blow the whistle on": "ÙŠÙØ¶Ø­ØŒ ÙŠÙƒØ´Ù",
      "to reveal and put a stop to wrongdoing": "Ù„ÙƒØ´Ù ÙˆÙˆÙ‚Ù Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„Ø®Ø§Ø·Ø¦Ø©",

      Call: "Ù‚Ø±Ø§Ø±",
      decision: "Ù‚Ø±Ø§Ø±",

      // Exercise 8 - Medical/genetic vocabulary matching
      Genetic: "ÙˆØ±Ø§Ø«ÙŠ",
      "related to the part of a cell that contains your parents' characteristics":
        "Ù…ØªØ¹Ù„Ù‚ Ø¨Ø¬Ø²Ø¡ Ø§Ù„Ø®Ù„ÙŠØ© Ø§Ù„Ø°ÙŠ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø®ØµØ§Ø¦Øµ ÙˆØ§Ù„Ø¯ÙŠÙƒ",

      Treatable: "Ù‚Ø§Ø¨Ù„ Ù„Ù„Ø¹Ù„Ø§Ø¬",
      "capable of being cured": "Ù‚Ø§Ø¨Ù„ Ù„Ù„Ø´ÙØ§Ø¡",

      Diagnosis: "ØªØ´Ø®ÙŠØµ",
      "identification of the cause of a problem": "ØªØ­Ø¯ÙŠØ¯ Ø³Ø¨Ø¨ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©",

      Undergo: "ÙŠØ®Ø¶Ø¹ Ù„Ù€ØŒ ÙŠØªØ¹Ø±Ø¶ Ù„Ù€",
      experience: "ÙŠØ®ÙˆØ¶ ØªØ¬Ø±Ø¨Ø©",

      Inherited: "Ù…ÙˆØ±ÙˆØ«",
      "received from a parent or ancestor": "Ù…ÙØ³ØªÙ„Ù… Ù…Ù† Ø£Ø­Ø¯ Ø§Ù„ÙˆØ§Ù„Ø¯ÙŠÙ† Ø£Ùˆ Ø§Ù„Ø£Ø¬Ø¯Ø§Ø¯",

      Preventative: "ÙˆÙ‚Ø§Ø¦ÙŠ",
      "done in order to avoid": "ÙŠÙÙØ¹Ù„ Ù„ØªØ¬Ù†Ø¨ Ø´ÙŠØ¡ Ù…Ø§",

      Controversial: "Ù…Ø«ÙŠØ± Ù„Ù„Ø¬Ø¯Ù„",
      "causing disagreement": "ÙŠØ³Ø¨Ø¨ Ø®Ù„Ø§ÙØ§Ù‹",

      Potential: "Ù…Ø­ØªÙ…Ù„ØŒ Ø¥Ù…ÙƒØ§Ù†ÙŠØ©",
      "the possibility of being or doing something":
        "Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø£Ù† ØªÙƒÙˆÙ† Ø£Ùˆ ØªÙØ¹Ù„ Ø´ÙŠØ¦Ø§Ù‹ Ù…Ø§",
    };

    function speak(button) {
      window.speechSynthesis.cancel();

      let text = button.previousElementSibling.innerText;
      let speech = new SpeechSynthesisUtterance(text);
      speech.lang = "en-US";
      speech.rate = 1;
      speech.pitch = 1;

      window.speechSynthesis.speak(speech);
    }

    function translation(word) {
      const translation = wordsTranslation[word] || "Ø§Ù„ØªØ±Ø¬Ù…Ø© ØºÙŠØ± Ù…ØªÙˆÙØ±Ø©";

      Swal.fire({
        html: `<p><strong>Ø§Ù„ÙƒÙ„Ù…Ø©:</strong> ${word}</p><p class="mb-0"><strong>Ø§Ù„ØªØ±Ø¬Ù…Ø©:</strong> ${translation}</p>`,
        confirmButtonText: "Ø¥ØºÙ„Ø§Ù‚",
        confirmButtonColor: "#0d6efd",
        customClass: {
          popup: "text-light bg-dark border rounded ",
          title: "fw-bold",
          confirmButton: "btn btn-secondary",
        },
      });
    }

    function populateWordsTable() {
      const tableBody = document.getElementById("wordsTableBody");
      tableBody.innerHTML = "";

      for (const [word, meaning] of Object.entries(englishWords)) {
        const row = document.createElement("tr");
        row.innerHTML = `
              <td><span class="word">${word}</span> <button class="btn btn-sm" onclick="speak(this)">ğŸ”Š</button> <button class="btn btn-sm" onclick="translation(this.previousElementSibling.previousElementSibling.innerHTML)">ğŸŒ</button></td>
              <td><span class="word">${meaning}</span> <button class="btn btn-sm" onclick="speak(this)">ğŸ”Š</button> <button class="btn btn-sm" onclick="translation(this.previousElementSibling.previousElementSibling.innerHTML)">ğŸŒ</button></td>
            `;
        tableBody.appendChild(row);
      }
    }

    function speakCurrentWord() {
      window.speechSynthesis.cancel();

      if (currentQuestionIndex < quizWords.length) {
        const text = quizWords[currentQuestionIndex][0];
        const speech = new SpeechSynthesisUtterance(text);
        speech.lang = "en-US";
        speech.rate = 1;
        speech.pitch = 1;

        window.speechSynthesis.speak(speech);
      }
    }

    document
      .getElementById("wordModal")
      .addEventListener("show.bs.modal", populateWordsTable);

    document
      .getElementById("wordsQuizModal")
      .addEventListener("show.bs.modal", initializeWordQuiz);

    function initializeWordQuiz() {
      currentQuestionIndex = 0;
      score = 0;
      wrongAnswers = [];

      quizWords = Object.entries(englishWords);
      quizWords = shuffleWordArray(quizWords);

      document.getElementById("totalQuestions").textContent = quizWords.length;
      document.getElementById("questionCounter").textContent = "1";

      document.getElementById("resultsContainer").style.display = "none";
      document.getElementById("quizContainer").style.display = "block";

      displayWordQuestion();
    }

    function displayWordQuestion() {
      if (currentQuestionIndex < quizWords.length) {
        const currentWord = quizWords[currentQuestionIndex][0];
        const correctMeaning = quizWords[currentQuestionIndex][1];

        document.getElementById("currentWord").textContent = currentWord;
        document.getElementById("questionCounter").textContent = (
          currentQuestionIndex + 1
        ).toString();

        const options = generateWordOptions(correctMeaning);

        const optionsContainer = document.getElementById("options");
        optionsContainer.innerHTML = "";

        options.forEach((option, index) => {
          const button = document.createElement("button");
          button.className = "btn btn-outline-light";
          button.textContent = option;
          button.onclick = () => checkWordAnswer(option, correctMeaning);
          optionsContainer.appendChild(button);
        });
      } else {
        showWordResults();
      }
    }

    function generateWordOptions(correctMeaning) {
      const wrongOptions = getRandomWrongMeanings(correctMeaning, 3);

      const allOptions = [...wrongOptions, correctMeaning];

      return shuffleWordArray(allOptions);
    }

    function getRandomWrongMeanings(correctMeaning, count) {
      const allMeanings = Object.values(englishWords).filter(
        meaning => meaning !== correctMeaning
      );

      return shuffleWordArray(allMeanings).slice(0, count);
    }

    function checkWordAnswer(selectedOption, correctMeaning) {
      if (selectedOption === correctMeaning) {
        score++;
      } else {
        wrongAnswers.push({
          word: quizWords[currentQuestionIndex][0],
          correctMeaning: correctMeaning,
        });
      }

      currentQuestionIndex++;

      setTimeout(() => {
        displayWordQuestion();
      }, 500);
    }

    function showWordResults() {
      document.getElementById("quizContainer").style.display = "none";
      document.getElementById("resultsContainer").style.display = "block";

      const totalQuestions = quizWords.length;
      const correctAnswers = score;
      const wrongAnswersCount = wrongAnswers.length;
      const finalScorePercent = Math.round((score / totalQuestions) * 100);

      document.getElementById("finalTotalQuestions").textContent =
        totalQuestions;
      document.getElementById("finalCorrectAnswers").textContent =
        correctAnswers;
      document.getElementById("finalWrongAnswers").textContent =
        wrongAnswersCount;
      document.getElementById(
        "finalScore"
      ).textContent = `${correctAnswers}/${totalQuestions} (${finalScorePercent}%)`;

      const wrongAnswersList = document.getElementById("wrongAnswersList");
      wrongAnswersList.innerHTML = "";

      if (wrongAnswers.length > 0) {
        wrongAnswers.forEach(wrongAnswer => {
          const listItem = document.createElement("li");
          listItem.className = "list-group-item";
          listItem.innerHTML = `<strong>${wrongAnswer.word}</strong>: ${wrongAnswer.correctMeaning}`;
          wrongAnswersList.appendChild(listItem);
        });
      } else {
        wrongAnswersList.innerHTML =
          '<li class="list-group-item">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø®Ø·Ø§Ø¡. Ø£Ø­Ø³Ù†Øª!</li>';
      }
    }

    function restartWordQuiz() {
      initializeWordQuiz();
    }

    function shuffleWordArray(array) {
      const newArray = [...array];
      for (let i = newArray.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
      }
      return newArray;
    }
  </script>
</html>
